{"version":3,"sources":["/home/mouaadid/Desktop/why-render/dist/ui.cjs","../src/ui/WhyRenderDevTools.tsx","../src/ui/panels/RenderTimeline.tsx","../src/utils/colors.ts","../src/ui/panels/ComponentStats.tsx","../src/utils/suggestions.ts","../src/ui/panels/DiffViewer.tsx","../src/ui/panels/FlameGraph.tsx","../node_modules/d3-hierarchy/src/hierarchy/count.js","../node_modules/d3-hierarchy/src/hierarchy/each.js","../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../node_modules/d3-hierarchy/src/hierarchy/find.js","../node_modules/d3-hierarchy/src/hierarchy/sum.js","../node_modules/d3-hierarchy/src/hierarchy/sort.js","../node_modules/d3-hierarchy/src/hierarchy/path.js","../node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../node_modules/d3-hierarchy/src/hierarchy/descendants.js","../node_modules/d3-hierarchy/src/hierarchy/leaves.js","../node_modules/d3-hierarchy/src/hierarchy/links.js","../node_modules/d3-hierarchy/src/hierarchy/iterator.js","../node_modules/d3-hierarchy/src/hierarchy/index.js","../node_modules/d3-hierarchy/src/treemap/round.js","../node_modules/d3-hierarchy/src/treemap/dice.js","../node_modules/d3-hierarchy/src/partition.js","../src/ui/panels/ComponentTree.tsx","../src/ui/components/PerformanceBadge.tsx"],"names":["hierarchy","useEffect"],"mappings":"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ACP;AAEO;AACE,EAAA;AACT;ARgpBY;AACA;AS5pBL;AACD,EAAA;AACJ,EAAA;AACE,IAAA;AACF,EAAA;AACO,EAAA;AACT;AT8pBY;AACA;AUrqBL;AACD,EAAA;AACG,EAAA;AACL,IAAA;AACI,IAAA;AACG,MAAA;AACH,QAAA;AACF,MAAA;AACF,IAAA;AACF,EAAA;AACO,EAAA;AACT;AVuqBY;AACA;AWnrBL;AACD,EAAA;AACG,EAAA;AACA,IAAA;AACD,IAAA;AACG,MAAA;AACH,QAAA;AACF,MAAA;AACF,IAAA;AACF,EAAA;AACO,EAAA;AACL,IAAA;AACF,EAAA;AACO,EAAA;AACT;AXqrBY;AACA;AYpsBL;AACD,EAAA;AACJ,EAAA;AACM,IAAA;AACF,MAAA;AACF,IAAA;AACF,EAAA;AACF;AZssBY;AACA;Aa9sBL;AACE,EAAA;AACD,IAAA;AAGG,IAAA;AACF,IAAA;AACN,EAAA;AACH;Ab8sBY;AACA;AcvtBL;AACE,EAAA;AACD,IAAA;AACG,MAAA;AACP,IAAA;AACD,EAAA;AACH;AdytBY;AACA;AehuBL;AACD,EAAA;AAGG,EAAA;AACG,IAAA;AACF,IAAA;AACR,EAAA;AACQ,EAAA;AACD,EAAA;AACC,IAAA;AACA,IAAA;AACR,EAAA;AACO,EAAA;AACT;AAES;AACG,EAAA;AACN,EAAA;AAGA,EAAA;AACA,EAAA;AACG,EAAA;AACD,IAAA;AACA,IAAA;AACA,IAAA;AACN,EAAA;AACO,EAAA;AACT;Af6tBY;AACA;AgB3vBL;AACD,EAAA;AACG,EAAA;AACC,IAAA;AACR,EAAA;AACO,EAAA;AACT;AhB6vBY;AACA;AiBpwBL;AACE,EAAA;AACT;AjBswBY;AACA;AkBzwBL;AACD,EAAA;AACC,EAAA;AACE,IAAA;AACH,MAAA;AACF,IAAA;AACD,EAAA;AACM,EAAA;AACT;AlB2wBY;AACA;AmBpxBL;AACD,EAAA;AACM,EAAA;AACJ,IAAA;AACI,MAAA;AACR,IAAA;AACD,EAAA;AACM,EAAA;AACT;AnBsxBY;AACA;AoB/xBL;AACD,EAAA;AACD,EAAA;AACD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","file":"/home/mouaadid/Desktop/why-render/dist/ui.cjs","sourcesContent":[null,"/**\n * Main DevTools Wrapper Component\n * Container for all debugging panels and overlays\n */\n\nimport React, { useEffect } from 'react';\nimport { useDevToolsStore } from '../store';\nimport { globalRenderTracker } from '../engine/RenderTracker';\nimport { globalPerformanceMonitor } from '../engine/PerformanceMonitor';\nimport { globalEventEmitter } from '../engine/EventEmitter';\nimport { RenderTimeline } from './panels/RenderTimeline';\nimport { ComponentStats } from './panels/ComponentStats';\nimport { DiffViewer } from './panels/DiffViewer';\nimport { FlameGraph } from './panels/FlameGraph';\nimport { ComponentTree } from './panels/ComponentTree';\n\n\nexport interface WhyRenderDevToolsProps {\n    /**\n     * Initial open state\n     */\n    defaultOpen?: boolean;\n\n    /**\n     * Slow render threshold in milliseconds\n     */\n    slowThreshold?: number;\n\n    /**\n     * Maximum history size\n     */\n    maxHistory?: number;\n\n    /**\n     * Position of the toggle button\n     */\n    position?: 'bottom-left' | 'bottom-right' | 'top-left' | 'top-right';\n\n    /**\n     * Keyboard shortcut to toggle (default: Meta+Shift+D)\n     */\n    toggleShortcut?: string;\n}\n\nexport const WhyRenderDevTools: React.FC<WhyRenderDevToolsProps> = ({\n    slowThreshold = 16,\n    position = 'bottom-right',\n    toggleShortcut = 'Meta+Shift+D',\n}) => {\n    const {\n        isOpen,\n        activePanel,\n        selectedComponentId,\n        renders,\n        metrics,\n        toggleOpen,\n        setActivePanel,\n        setSelectedComponent,\n        updateRenders,\n        updateHierarchy,\n        updateMetrics,\n    } = useDevToolsStore();\n\n    // Initialize settings\n    useEffect(() => {\n        globalPerformanceMonitor.setSlowThreshold(slowThreshold);\n    }, [slowThreshold]);\n\n    // Sync data from render tracker\n    useEffect(() => {\n        const syncData = () => {\n            const exportedData = globalRenderTracker.export();\n            console.log('[DevTools] Syncing data:', {\n                historyCount: exportedData.history.length,\n                hierarchyCount: exportedData.hierarchy.length,\n                metricsCount: exportedData.metrics.length,\n            });\n            updateRenders(exportedData.history);\n            updateHierarchy(exportedData.hierarchy);\n            updateMetrics(exportedData.metrics);\n        };\n\n        // Initial sync\n        syncData();\n\n        // Subscribe to render events\n        console.log('[DevTools] Subscribing to render:end events');\n        const unsubscribe = globalEventEmitter.on('render:end', (payload) => {\n            console.log('[DevTools] Received render:end event:', payload);\n            syncData();\n        });\n\n        return () => {\n            console.log('[DevTools] Unsubscribing from render:end events');\n            unsubscribe();\n        };\n    }, [updateRenders, updateHierarchy, updateMetrics]);\n\n    // Keyboard shortcut\n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            // Ignore if input/textarea is focused\n            if (['INPUT', 'TEXTAREA', 'SELECT'].includes((e.target as HTMLElement).tagName)) {\n                return;\n            }\n\n            const parts = toggleShortcut.toLowerCase().split('+');\n            const key = parts[parts.length - 1].trim();\n\n            const wantsMeta = parts.some(p => ['meta', 'cmd', 'command'].includes(p));\n            const wantsCtrl = parts.some(p => ['ctrl', 'control'].includes(p));\n            const wantsShift = parts.includes('shift');\n            const wantsAlt = parts.includes('alt');\n\n            // Check key\n            if (e.key.toLowerCase() !== key) return;\n\n            // Check modifiers\n            const shiftOk = e.shiftKey === wantsShift;\n            const altOk = e.altKey === wantsAlt;\n\n            // Smart handling for Cmd/Ctrl\n            let metaCtrlOk = false;\n            if (wantsMeta && !wantsCtrl) {\n                // Wants Meta/Cmd only -> Accept Meta OR Ctrl (for Linux/Win compatibility)\n                metaCtrlOk = e.metaKey || e.ctrlKey;\n            } else if (wantsCtrl && !wantsMeta) {\n                // Wants Ctrl only -> Accept Ctrl\n                metaCtrlOk = e.ctrlKey && !e.metaKey;\n            } else if (wantsMeta && wantsCtrl) {\n                // Wants both -> Accept both\n                metaCtrlOk = e.metaKey && e.ctrlKey;\n            } else {\n                // Wants neither -> Ensure neither\n                metaCtrlOk = !e.metaKey && !e.ctrlKey;\n            }\n\n            if (shiftOk && altOk && metaCtrlOk) {\n                e.preventDefault();\n                toggleOpen();\n            }\n        };\n\n        window.addEventListener('keydown', handleKeyDown);\n        return () => window.removeEventListener('keydown', handleKeyDown);\n    }, [toggleShortcut, toggleOpen]);\n\n    // Get selected component data\n    const selectedMetrics = metrics.find(\n        (m: any) => m.componentId === selectedComponentId\n    );\n    const selectedHistory = selectedComponentId\n        ? globalRenderTracker.getComponentHistory(selectedComponentId)\n        : [];\n    const latestRender = selectedHistory[selectedHistory.length - 1];\n\n    const positionClasses = {\n        'bottom-left': 'bottom-4 left-4',\n        'bottom-right': 'bottom-4 right-4',\n        'top-left': 'top-4 left-4',\n        'top-right': 'top-4 right-4',\n    };\n\n    const renderPanel = () => {\n        switch (activePanel) {\n            case 'timeline':\n                return (\n                    <RenderTimeline\n                        events={renders}\n                        slowThreshold={slowThreshold}\n                        maxEvents={100}\n                        onSelectEvent={(event) => {\n                            setSelectedComponent(event.componentId);\n                            setActivePanel('stats');\n                        }}\n                        selectedEventId={latestRender?.id}\n                    />\n                );\n\n            case 'stats':\n                if (!selectedMetrics || !latestRender) {\n                    return (\n                        <div className=\"flex items-center justify-center h-full text-slate-400\">\n                            Select a component from the timeline\n                        </div>\n                    );\n                }\n                return (\n                    <ComponentStats\n                        metrics={selectedMetrics}\n                        history={selectedHistory}\n                        slowThreshold={slowThreshold}\n                    />\n                );\n\n            case 'diff':\n                if (!latestRender) {\n                    return (\n                        <div className=\"flex items-center justify-center h-full text-slate-400\">\n                            Select a component from the timeline\n                        </div>\n                    );\n                }\n                return (\n                    <DiffViewer\n                        changes={latestRender.changes}\n                        componentName={latestRender.componentName}\n                    />\n                );\n\n            case 'flamegraph':\n                return <FlameGraph />;\n\n            case 'tree':\n                return <ComponentTree />;\n\n            default:\n                return (\n                    <RenderTimeline\n                        events={renders}\n                        slowThreshold={slowThreshold}\n                        maxEvents={100}\n                        selectedEventId={latestRender?.id}\n                    />\n                );\n        }\n    };\n\n    const tabs = [\n        { id: 'timeline', label: 'Timeline', icon: '‚è±Ô∏è' },\n        { id: 'stats', label: 'Stats', icon: 'üìä' },\n        { id: 'diff', label: 'Diff', icon: 'üìù' },\n        { id: 'flamegraph', label: 'Flame', icon: 'üî•' },\n        { id: 'tree', label: 'Tree', icon: 'üå≥' },\n    ];\n\n    return (\n        <>\n            {/* Toggle Button */}\n            {!isOpen && (\n                <button\n                    onClick={toggleOpen}\n                    className={`\n            fixed ${positionClasses[position]} z-[9999]\n            px-4 py-2.5 bg-indigo-600 hover:bg-indigo-500\n            text-white rounded-full shadow-lg shadow-indigo-500/30\n            transition-all duration-300 hover:scale-105 active:scale-95\n            flex items-center gap-2.5 font-medium text-sm\n            animate-pulse-glow backdrop-blur-sm border border-indigo-400/20\n          `}\n                    title={`Toggle DevTools (${toggleShortcut})`}\n                >\n                    <div className=\"relative flex h-3 w-3\">\n                        <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75\"></span>\n                        <span className=\"relative inline-flex rounded-full h-3 w-3 bg-indigo-400\"></span>\n                    </div>\n                    <span className=\"font-semibold tracking-wide\">Why Render</span>\n                </button>\n            )}\n\n            {/* DevTools Panel */}\n            {isOpen && (\n                <div\n                    className=\"fixed inset-0 z-[9998] flex items-end justify-end p-6 pointer-events-none\"\n                    style={{ fontFamily: \"'Inter', system-ui, sans-serif\" }}\n                >\n                    <div\n                        className=\"\n              w-full max-w-5xl h-[650px]\n              why-render-panel\n              flex flex-col\n              pointer-events-auto\n              animate-slide-in-up\n              overflow-hidden\n            \"\n                    >\n                        {/* Header */}\n                        <div className=\"flex items-center justify-between px-5 py-4 border-b border-slate-700/50 bg-gradient-to-r from-slate-900/50 to-slate-800/50 backdrop-blur-md\">\n                            <div className=\"flex items-center gap-3\">\n                                <div className=\"p-2 bg-indigo-500/10 rounded-lg border border-indigo-500/20\">\n                                    <svg\n                                        className=\"w-5 h-5 text-indigo-400\"\n                                        fill=\"none\"\n                                        viewBox=\"0 0 24 24\"\n                                        stroke=\"currentColor\"\n                                    >\n                                        <path\n                                            strokeLinecap=\"round\"\n                                            strokeLinejoin=\"round\"\n                                            strokeWidth={2}\n                                            d=\"M13 10V3L4 14h7v7l9-11h-7z\"\n                                        />\n                                    </svg>\n                                </div>\n                                <div>\n                                    <h2 className=\"text-lg font-bold text-white tracking-tight flex items-center gap-2\">\n                                        Why Render\n                                        <span className=\"px-1.5 py-0.5 rounded text-[10px] font-bold bg-indigo-500/20 text-indigo-300 border border-indigo-500/30 uppercase tracking-wider\">\n                                            DevTools\n                                        </span>\n                                    </h2>\n                                    <div className=\"flex items-center gap-2 text-[11px] text-slate-400 font-medium\">\n                                        <span>v0.1.0</span>\n                                        <span className=\"w-1 h-1 rounded-full bg-slate-600\"></span>\n                                        <span>{renders.length} events captured</span>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"flex items-center gap-2\">\n                                <div className=\"flex items-center gap-1 px-2 py-1 bg-slate-800/50 rounded-md border border-slate-700/50 mr-2\">\n                                    <span className=\"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\"></span>\n                                    <span className=\"text-xs text-slate-400 font-medium\">Live</span>\n                                </div>\n                                <button\n                                    onClick={toggleOpen}\n                                    className=\"p-2 hover:bg-white/5 text-slate-400 hover:text-white rounded-lg transition-all duration-200 active:scale-95\"\n                                    title=\"Close (Esc)\"\n                                >\n                                    <svg\n                                        className=\"w-5 h-5\"\n                                        fill=\"none\"\n                                        viewBox=\"0 0 24 24\"\n                                        stroke=\"currentColor\"\n                                    >\n                                        <path\n                                            strokeLinecap=\"round\"\n                                            strokeLinejoin=\"round\"\n                                            strokeWidth={2}\n                                            d=\"M6 18L18 6M6 6l12 12\"\n                                        />\n                                    </svg>\n                                </button>\n                            </div>\n                        </div>\n\n                        {/* Tab Navigation */}\n                        <div className=\"flex px-2 border-b border-slate-700/50 bg-slate-900/30 backdrop-blur-sm\">\n                            {tabs.map((tab) => {\n                                const isActive = activePanel === tab.id || (activePanel === null && tab.id === 'timeline');\n                                return (\n                                    <button\n                                        key={tab.id}\n                                        onClick={() => setActivePanel(tab.id as any)}\n                                        className={`\n                      relative px-4 py-3 font-medium text-sm transition-all duration-200\n                      flex items-center gap-2 group outline-none\n                      ${isActive ? 'text-indigo-400' : 'text-slate-400 hover:text-slate-200'}\n                    `}\n                                    >\n                                        <span className={`transition-transform duration-200 group-hover:scale-110 ${isActive ? 'scale-110' : ''}`}>\n                                            {tab.icon}\n                                        </span>\n                                        {tab.label}\n\n                                        {/* Active Indicator */}\n                                        {isActive && (\n                                            <span className=\"absolute bottom-0 left-0 w-full h-0.5 bg-indigo-500 shadow-[0_0_10px_rgba(99,102,241,0.5)] animate-fade-in\"></span>\n                                        )}\n\n                                        {/* Hover background */}\n                                        <span className={`absolute inset-0 bg-white/5 rounded-t-lg transition-opacity duration-200 ${isActive ? 'opacity-100' : 'opacity-0 group-hover:opacity-100'}`}></span>\n                                    </button>\n                                );\n                            })}\n                        </div>\n\n                        {/* Panel Content */}\n                        <div className=\"flex-1 overflow-hidden bg-slate-900/20 relative\">\n                            {/* Background pattern */}\n                            <div className=\"absolute inset-0 opacity-[0.03] pointer-events-none\"\n                                style={{\n                                    backgroundImage: 'radial-gradient(#6366f1 1px, transparent 1px)',\n                                    backgroundSize: '20px 20px'\n                                }}>\n                            </div>\n\n                            <div className=\"relative h-full\">\n                                {renderPanel()}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </>\n    );\n};\n","/**\n * Render Timeline Panel\n * Shows chronological render events with performance visualization\n */\n\nimport React, { useMemo } from 'react';\nimport type { RenderEvent } from '../../types';\nimport { performanceToColor } from '../../utils/colors';\n\nexport interface RenderTimelineProps {\n    events: RenderEvent[];\n    slowThreshold?: number;\n    maxEvents?: number;\n    onSelectEvent?: (event: RenderEvent) => void;\n    selectedEventId?: string;\n}\n\nexport const RenderTimeline: React.FC<RenderTimelineProps> = ({\n    events,\n    slowThreshold = 16,\n    maxEvents = 100,\n    onSelectEvent,\n    selectedEventId,\n}) => {\n    const recentEvents = useMemo(() => {\n        return events.slice(-maxEvents).reverse();\n    }, [events, maxEvents]);\n\n    const getPerformanceColor = (duration: number): string => {\n        return performanceToColor(duration, {\n            good: slowThreshold,\n            warning: slowThreshold * 2,\n        });\n    };\n\n    const formatTimestamp = (timestamp: number): string => {\n        const date = new Date(timestamp);\n        const timeStr = date.toLocaleTimeString('en-US', {\n            hour12: false,\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n        });\n        const ms = (timestamp % 1000).toFixed(0).padStart(3, '0');\n        return `${timeStr}.${ms}`;\n    };\n    const getRelativeWidth = (duration: number): number => {\n        const maxDuration = Math.max(...recentEvents.map(e => e.duration));\n        return Math.max(10, (duration / maxDuration) * 100);\n    };\n\n    if (recentEvents.length === 0) {\n        return (\n            <div className=\"flex flex-col items-center justify-center h-full text-slate-400 p-8\">\n                <div className=\"w-16 h-16 mb-4 rounded-full bg-slate-800/50 flex items-center justify-center border border-slate-700/50 shadow-inner\">\n                    <svg\n                        className=\"w-8 h-8 text-slate-500\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        stroke=\"currentColor\"\n                    >\n                        <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            strokeWidth={1.5}\n                            d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                        />\n                    </svg>\n                </div>\n                <h3 className=\"text-lg font-medium text-slate-300 mb-1\">No renders recorded yet</h3>\n                <p className=\"text-sm text-slate-500 text-center max-w-xs\">\n                    Interact with your application to capture render events and performance metrics.\n                </p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"h-full flex flex-col\">\n            <div className=\"flex items-center justify-between px-4 py-3 border-b border-slate-700/50 bg-slate-800/30 backdrop-blur-sm\">\n                <h3 className=\"text-sm font-semibold text-slate-200 flex items-center gap-2\">\n                    <span className=\"w-1.5 h-1.5 rounded-full bg-indigo-500\"></span>\n                    Render Timeline\n                </h3>\n                <span className=\"text-xs font-medium px-2 py-0.5 rounded-full bg-slate-700/50 text-slate-400 border border-slate-600/30\">\n                    {events.length} events\n                </span>\n            </div>\n\n            <div className=\"flex-1 overflow-y-auto why-render-scrollbar p-4 space-y-3\">\n                {recentEvents.map((event, index) => (\n                    <div\n                        key={event.id}\n                        className={`\n              group relative p-3 rounded-xl border cursor-pointer transition-all duration-200\n              ${selectedEventId === event.id\n                                ? 'bg-indigo-500/10 border-indigo-500/50 shadow-[0_0_15px_rgba(99,102,241,0.15)]'\n                                : 'bg-slate-800/40 border-slate-700/40 hover:bg-slate-800/60 hover:border-slate-600/60 hover:shadow-lg hover:-translate-y-0.5'\n                            }\n              animate-slide-in-right\n            `}\n                        style={{ animationDelay: `${index * 50}ms` }}\n                        onClick={() => onSelectEvent?.(event)}\n                    >\n                        {/* Header */}\n                        <div className=\"flex items-center justify-between mb-2.5\">\n                            <div className=\"flex items-center gap-2\">\n                                <span className={`text-sm font-semibold tracking-tight ${selectedEventId === event.id ? 'text-indigo-300' : 'text-slate-200'}`}>\n                                    {event.componentName}\n                                </span>\n                                <span className=\"text-[10px] font-medium px-1.5 py-0.5 rounded bg-slate-700/50 text-slate-400 border border-slate-600/30\">\n                                    #{event.renderCount}\n                                </span>\n                            </div>\n                            <span className=\"text-[10px] font-mono text-slate-500 bg-slate-900/30 px-1.5 py-0.5 rounded\">\n                                {formatTimestamp(event.timestamp)}\n                            </span>\n                        </div>\n\n                        {/* Duration Bar */}\n                        <div className=\"relative h-1.5 bg-slate-700/30 rounded-full overflow-hidden mb-3\">\n                            <div\n                                className=\"absolute top-0 left-0 h-full rounded-full transition-all duration-500 ease-out\"\n                                style={{\n                                    width: `${getRelativeWidth(event.duration)}%`,\n                                    backgroundColor: getPerformanceColor(event.duration),\n                                    boxShadow: `0 0 8px ${getPerformanceColor(event.duration)}`\n                                }}\n                            />\n                        </div>\n\n                        <div className=\"flex items-center justify-between text-xs mb-2\">\n                            <span className=\"text-slate-500\">Duration</span>\n                            <span className=\"font-mono font-medium\" style={{ color: getPerformanceColor(event.duration) }}>\n                                {event.duration.toFixed(2)}ms\n                            </span>\n                        </div>\n\n                        {/* Changes */}\n                        {event.changes.length > 0 && (\n                            <div className=\"flex flex-wrap gap-1.5 pt-2 border-t border-slate-700/30\">\n                                {event.changes.slice(0, 3).map((change, i) => (\n                                    <span\n                                        key={i}\n                                        className=\"text-[10px] px-1.5 py-0.5 rounded bg-amber-500/10 text-amber-400 border border-amber-500/20 font-medium\"\n                                    >\n                                        {change.key}\n                                    </span>\n                                ))}\n                                {event.changes.length > 3 && (\n                                    <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-slate-700/50 text-slate-400 border border-slate-600/30\">\n                                        +{event.changes.length - 3}\n                                    </span>\n                                )}\n                            </div>\n                        )}\n\n                        {/* Hover tooltip */}\n                        <div className=\"opacity-0 group-hover:opacity-100 absolute top-2 right-2 transition-opacity duration-200\">\n                            <svg className=\"w-4 h-4 text-slate-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                            </svg>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n","/**\n * Color generation utilities for component visualization\n */\n\n/**\n * Generate a consistent HSL color from a string (component name)\n */\nexport function stringToColor(str: string): string {\n    let hash = 0;\n    for (let i = 0; i < str.length; i++) {\n        hash = str.charCodeAt(i) + ((hash << 5) - hash);\n        hash = hash & hash; // Convert to 32-bit integer\n    }\n\n    const hue = Math.abs(hash % 360);\n    const saturation = 65 + (Math.abs(hash) % 20); // 65-85%\n    const lightness = 50 + (Math.abs(hash >> 8) % 15); // 50-65%\n\n    return `hsl(${hue}, ${saturation}%, ${lightness}%)`;\n}\n\n/**\n * Generate a heatmap color based on intensity (0-1)\n */\nexport function intensityToColor(intensity: number, alpha: number = 1): string {\n    // Clamp intensity between 0 and 1\n    const normalized = Math.max(0, Math.min(1, intensity));\n\n    // Cool (blue) -> Warm (yellow) -> Hot (red)\n    if (normalized < 0.5) {\n        // Blue to yellow\n        const t = normalized * 2;\n        const hue = 180 + (t * 60); // 180 (cyan) to 240 (blue) to 60 (yellow)\n        return `hsla(${hue}, 100%, 50%, ${alpha})`;\n    } else {\n        // Yellow to red\n        const t = (normalized - 0.5) * 2;\n        const hue = 60 - (t * 60); // 60 (yellow) to 0 (red)\n        return `hsla(${hue}, 100%, 50%, ${alpha})`;\n    }\n}\n\n/**\n * Generate a performance-based color (green -> yellow -> red)\n */\nexport function performanceToColor(\n    value: number,\n    threshold: { good: number; warning: number }\n): string {\n    if (value <= threshold.good) {\n        return '#10b981'; // Green\n    } else if (value <= threshold.warning) {\n        return '#f59e0b'; // Yellow/Orange\n    } else {\n        return '#ef4444'; // Red\n    }\n}\n\n/**\n * Convert hex color to RGBA\n */\nexport function hexToRgba(hex: string, alpha: number = 1): string {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    if (!result) return `rgba(0, 0, 0, ${alpha})`;\n\n    return `rgba(${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}, ${alpha})`;\n}\n\n/**\n * Adjust color lightness\n */\nexport function adjustLightness(hsl: string, amount: number): string {\n    const match = hsl.match(/hsl\\((\\d+),\\s*(\\d+)%,\\s*(\\d+)%\\)/);\n    if (!match) return hsl;\n\n    const h = parseInt(match[1]);\n    const s = parseInt(match[2]);\n    const l = Math.max(0, Math.min(100, parseInt(match[3]) + amount));\n\n    return `hsl(${h}, ${s}%, ${l}%)`;\n}\n","/**\n * Component Stats Panel\n * Shows performance metrics and statistics for a component\n */\n\nimport React, { useMemo } from 'react';\nimport type { PerformanceMetrics } from '../../engine/PerformanceMonitor';\nimport type { RenderEvent } from '../../types';\nimport { performanceToColor } from '../../utils/colors';\nimport { getComponentSuggestions } from '../../utils/suggestions';\n\nexport interface ComponentStatsProps {\n    metrics: PerformanceMetrics;\n    history: RenderEvent[];\n    slowThreshold?: number;\n}\n\nexport const ComponentStats: React.FC<ComponentStatsProps> = ({\n    metrics,\n    history,\n    slowThreshold = 16,\n}) => {\n    const suggestions = useMemo(() => {\n        const latestEvent = history[history.length - 1];\n        return getComponentSuggestions(\n            metrics.componentName,\n            latestEvent?.changes || [],\n            metrics,\n            history,\n            slowThreshold\n        );\n    }, [metrics, history, slowThreshold]);\n\n    const stats = [\n        {\n            label: 'Total Renders',\n            value: metrics.renderCount,\n            icon: (\n                <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                </svg>\n            ),\n            color: 'text-indigo-400',\n            bg: 'bg-indigo-500/10 border-indigo-500/20',\n        },\n        {\n            label: 'Average Time',\n            value: `${metrics.averageTime.toFixed(2)}ms`,\n            icon: (\n                <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n            ),\n            color: performanceToColor(metrics.averageTime, {\n                good: slowThreshold,\n                warning: slowThreshold * 2,\n            }),\n            bg: 'bg-slate-800/50 border-slate-700/50',\n        },\n        {\n            label: 'Total Time',\n            value: `${metrics.totalTime.toFixed(2)}ms`,\n            icon: (\n                <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n            ),\n            color: 'text-purple-400',\n            bg: 'bg-purple-500/10 border-purple-500/20',\n        },\n        {\n            label: 'Slowest Render',\n            value: `${metrics.maxRenderTime.toFixed(2)}ms`,\n            icon: (\n                <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                </svg>\n            ),\n            color: performanceToColor(metrics.maxRenderTime, {\n                good: slowThreshold,\n                warning: slowThreshold * 2,\n            }),\n            bg: 'bg-slate-800/50 border-slate-700/50',\n        },\n        {\n            label: 'Fastest Render',\n            value: `${metrics.minRenderTime.toFixed(2)}ms`,\n            icon: (\n                <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                </svg>\n            ),\n            color: 'text-emerald-400',\n            bg: 'bg-emerald-500/10 border-emerald-500/20',\n        },\n        {\n            label: 'Slow Renders',\n            value: `${metrics.slowRenders} (${metrics.renderCount > 0 ? ((metrics.slowRenders / metrics.renderCount) * 100).toFixed(1) : 0}%)`,\n            icon: (\n                <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                </svg>\n            ),\n            color: metrics.slowRenders > 0 ? 'text-amber-400' : 'text-emerald-400',\n            bg: metrics.slowRenders > 0 ? 'bg-amber-500/10 border-amber-500/20' : 'bg-emerald-500/10 border-emerald-500/20',\n        },\n    ];\n\n    const getSeverityIcon = (severity: string) => {\n        switch (severity) {\n            case 'critical':\n                return (\n                    <span className=\"flex h-2 w-2 relative\">\n                        <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75\"></span>\n                        <span className=\"relative inline-flex rounded-full h-2 w-2 bg-rose-500\"></span>\n                    </span>\n                );\n            case 'warning':\n                return <span className=\"h-2 w-2 rounded-full bg-amber-500\"></span>;\n            case 'info':\n            default:\n                return <span className=\"h-2 w-2 rounded-full bg-indigo-500\"></span>;\n        }\n    };\n\n    const getSeverityStyles = (severity: string) => {\n        switch (severity) {\n            case 'critical':\n                return 'border-rose-500/30 bg-rose-500/5 shadow-[0_0_15px_rgba(244,63,94,0.1)]';\n            case 'warning':\n                return 'border-amber-500/30 bg-amber-500/5 shadow-[0_0_15px_rgba(245,158,11,0.1)]';\n            case 'info':\n            default:\n                return 'border-indigo-500/30 bg-indigo-500/5 shadow-[0_0_15px_rgba(99,102,241,0.1)]';\n        }\n    };\n\n    return (\n        <div className=\"h-full flex flex-col\">\n            {/* Header */}\n            <div className=\"px-6 py-5 border-b border-slate-700/50 bg-slate-800/30 backdrop-blur-sm\">\n                <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 rounded-lg bg-indigo-500/10 border border-indigo-500/20\">\n                        <svg className=\"w-6 h-6 text-indigo-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                        </svg>\n                    </div>\n                    <div>\n                        <h3 className=\"text-xl font-bold text-slate-100 tracking-tight\">\n                            {metrics.componentName}\n                        </h3>\n                        <p className=\"text-sm text-slate-400 font-medium\">\n                            Performance Overview\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"flex-1 overflow-y-auto why-render-scrollbar p-6\">\n                {/* Stats Grid */}\n                <div className=\"grid grid-cols-2 gap-4 mb-8\">\n                    {stats.map((stat, index) => (\n                        <div\n                            key={index}\n                            className={`\n                                p-4 rounded-xl border transition-all duration-200 hover:scale-[1.02]\n                                ${stat.bg || 'bg-slate-800/50 border-slate-700/50'}\n                                animate-slide-in-up\n                            `}\n                            style={{ animationDelay: `${index * 50}ms` }}\n                        >\n                            <div className=\"flex items-center gap-2 mb-2\">\n                                <span className={`p-1.5 rounded-md bg-slate-900/50 ${stat.color}`}>\n                                    {stat.icon}\n                                </span>\n                                <span className=\"text-xs font-medium text-slate-400 uppercase tracking-wider\">{stat.label}</span>\n                            </div>\n                            <div\n                                className=\"text-2xl font-bold font-mono tracking-tight\"\n                                style={{ color: typeof stat.color === 'string' && stat.color.startsWith('#') ? stat.color : undefined }}\n                            >\n                                <span className={!stat.color.startsWith('#') ? stat.color : ''}>\n                                    {stat.value}\n                                </span>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n\n                {/* Suggestions */}\n                {suggestions.length > 0 && (\n                    <div className=\"animate-fade-in delay-300\">\n                        <h4 className=\"text-sm font-bold text-slate-200 mb-4 flex items-center gap-2 uppercase tracking-wider\">\n                            <span className=\"w-1.5 h-1.5 rounded-full bg-amber-400\"></span>\n                            Optimization Suggestions\n                        </h4>\n                        <div className=\"space-y-4\">\n                            {suggestions.map((suggestion, index) => (\n                                <div\n                                    key={index}\n                                    className={`\n                                        group p-4 rounded-xl border transition-all duration-200\n                                        ${getSeverityStyles(suggestion.severity)}\n                                        hover:shadow-lg\n                                    `}\n                                >\n                                    <div className=\"flex items-start gap-3 mb-3\">\n                                        <div className=\"mt-1.5\">\n                                            {getSeverityIcon(suggestion.severity)}\n                                        </div>\n                                        <div className=\"flex-1\">\n                                            <h5 className=\"text-base font-semibold text-slate-200 mb-1\">\n                                                {suggestion.title}\n                                            </h5>\n                                            <p className=\"text-sm text-slate-400 leading-relaxed\">\n                                                {suggestion.description}\n                                            </p>\n                                        </div>\n                                    </div>\n\n                                    {suggestion.affectedProps && suggestion.affectedProps.length > 0 && (\n                                        <div className=\"flex flex-wrap gap-2 mb-3 ml-5\">\n                                            {suggestion.affectedProps.map((prop, i) => (\n                                                <span\n                                                    key={i}\n                                                    className=\"text-xs px-2.5 py-1 rounded-md bg-slate-900/50 text-slate-300 font-mono border border-slate-700/50\"\n                                                >\n                                                    {prop}\n                                                </span>\n                                            ))}\n                                        </div>\n                                    )}\n\n                                    {suggestion.codeExample && (\n                                        <details className=\"ml-5 group/details\">\n                                            <summary className=\"text-xs font-medium text-indigo-400 cursor-pointer hover:text-indigo-300 flex items-center gap-1 select-none transition-colors\">\n                                                <svg className=\"w-4 h-4 transition-transform group-open/details:rotate-90\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                                                </svg>\n                                                View code example\n                                            </summary>\n                                            <div className=\"mt-3 relative group/code\">\n                                                <pre className=\"p-4 bg-slate-950/80 rounded-lg text-xs overflow-x-auto border border-slate-800/50 shadow-inner\">\n                                                    <code className=\"text-slate-300 font-mono leading-relaxed\">\n                                                        {suggestion.codeExample}\n                                                    </code>\n                                                </pre>\n                                                <div className=\"absolute top-2 right-2 opacity-0 group-hover/code:opacity-100 transition-opacity\">\n                                                    <button\n                                                        className=\"p-1.5 rounded bg-slate-800 text-slate-400 hover:text-white hover:bg-slate-700 transition-colors\"\n                                                        title=\"Copy code\"\n                                                        onClick={(e) => {\n                                                            e.preventDefault();\n                                                            navigator.clipboard.writeText(suggestion.codeExample || '');\n                                                        }}\n                                                    >\n                                                        <svg className=\"w-3.5 h-3.5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n                                                        </svg>\n                                                    </button>\n                                                </div>\n                                            </div>\n                                        </details>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n","/**\n * AI-Powered (Rule-based) Suggestion Engine\n * Analyzes render patterns and provides optimization suggestions\n */\n\nimport type { Change } from '../types';\nimport type { RenderEvent } from '../engine/RenderTracker';\nimport type { PerformanceMetrics } from '../engine/PerformanceMonitor';\n\nexport interface Suggestion {\n    type: 'useMemo' | 'useCallback' | 'React.memo' | 'moveOutside' | 'splitComponent' | 'useTransition' | 'general';\n    severity: 'info' | 'warning' | 'critical';\n    title: string;\n    description: string;\n    codeExample?: string;\n    affectedProps?: string[];\n}\n\n/**\n * Analyze changes and generate suggestions\n */\nexport function analyzePropChanges(componentName: string, changes: Change[]): Suggestion[] {\n    const suggestions: Suggestion[] = [];\n\n    // Count change types\n    const functionChanges = changes.filter(c => c.reason === 'function');\n    const referenceChanges = changes.filter(c => c.reason === 'reference');\n\n    // Suggest useCallback for function props\n    if (functionChanges.length > 0) {\n        suggestions.push({\n            type: 'useCallback',\n            severity: functionChanges.length > 2 ? 'warning' : 'info',\n            title: 'Unstable Function Props Detected',\n            description: `${functionChanges.length} function prop(s) are being recreated on every render. Wrap them with useCallback to maintain referential equality.`,\n            affectedProps: functionChanges.map(c => c.key),\n            codeExample: `const ${functionChanges[0].key} = useCallback(() => {\n  // your function logic\n}, [dependencies]);`\n        });\n    }\n\n    // Suggest useMemo for object/array props\n    if (referenceChanges.length > 0) {\n        suggestions.push({\n            type: 'useMemo',\n            severity: referenceChanges.length > 2 ? 'warning' : 'info',\n            title: 'Unstable Reference Props Detected',\n            description: `${referenceChanges.length} object/array prop(s) are being recreated with the same content. Use useMemo to prevent unnecessary re-renders.`,\n            affectedProps: referenceChanges.map(c => c.key),\n            codeExample: `const ${referenceChanges[0].key} = useMemo(() => ({\n  // your object\n}), [dependencies]);`\n        });\n    }\n\n    // Suggest moving constants outside component\n    const constantLikeChanges = changes.filter(c =>\n        c.reason === 'reference' &&\n        typeof c.newValue === 'object' &&\n        JSON.stringify(c.oldValue) === JSON.stringify(c.newValue)\n    );\n\n    if (constantLikeChanges.length > 0) {\n        suggestions.push({\n            type: 'moveOutside',\n            severity: 'info',\n            title: 'Consider Moving Constants Outside Component',\n            description: 'Some props appear to be static objects/arrays. Consider moving them outside the component or using useMemo.',\n            affectedProps: constantLikeChanges.map(c => c.key),\n            codeExample: `// Move outside component\nconst STATIC_${constantLikeChanges[0].key.toUpperCase()} = ${JSON.stringify(constantLikeChanges[0].newValue, null, 2).substring(0, 100)}...;\n\nfunction ${componentName}() {\n  // Use STATIC_${constantLikeChanges[0].key.toUpperCase()}\n}`\n        });\n    }\n\n    return suggestions;\n}\n\n/**\n * Analyze performance metrics and generate suggestions\n */\nexport function analyzePerformance(metrics: PerformanceMetrics, threshold: number = 16): Suggestion[] {\n    const suggestions: Suggestion[] = [];\n\n    // Too many renders\n    if (metrics.renderCount > 50) {\n        suggestions.push({\n            type: 'React.memo',\n            severity: metrics.renderCount > 100 ? 'critical' : 'warning',\n            title: 'Excessive Re-renders Detected',\n            description: `This component has rendered ${metrics.renderCount} times. Consider wrapping it with React.memo() to prevent unnecessary renders.`,\n            codeExample: `export default React.memo(${metrics.componentName});\n\n// Or with custom comparison\nexport default React.memo(${metrics.componentName}, (prevProps, nextProps) => {\n  // return true if passing nextProps would result in same output\n  return prevProps.id === nextProps.id;\n});`\n        });\n    }\n\n    // Slow renders\n    if (metrics.slowRenders > 5) {\n        const slowPercentage = (metrics.slowRenders / metrics.renderCount) * 100;\n        suggestions.push({\n            type: metrics.averageTime > 100 ? 'splitComponent' : 'useTransition',\n            severity: slowPercentage > 50 ? 'critical' : 'warning',\n            title: 'Slow Renders Detected',\n            description: `${slowPercentage.toFixed(1)}% of renders exceeded ${threshold}ms. Average: ${metrics.averageTime.toFixed(2)}ms, Max: ${metrics.maxRenderTime.toFixed(2)}ms.`,\n            codeExample: metrics.averageTime > 100\n                ? `// Consider splitting into smaller components\nfunction ${metrics.componentName}() {\n  return (\n    <>\n      <LightweightPart />\n      <HeavyPart /> {/* Move expensive logic here */}\n    </>\n  );\n}`\n                : `// Use React 19 transitions for non-urgent updates\nimport { useTransition } from 'react';\n\nconst [isPending, startTransition] = useTransition();\n\nstartTransition(() => {\n  // Non-urgent state updates\n  setState(newValue);\n});`\n        });\n    }\n\n    // High average render time\n    if (metrics.averageTime > 50 && metrics.renderCount > 10) {\n        suggestions.push({\n            type: 'general',\n            severity: 'warning',\n            title: 'Component Optimization Needed',\n            description: `Average render time is ${metrics.averageTime.toFixed(2)}ms. This component may benefit from performance optimizations.`,\n            codeExample: `// Optimization strategies:\n// 1. Memoize expensive calculations with useMemo\n// 2. Virtualize long lists (react-window, react-virtual)\n// 3. Lazy load heavy components with React.lazy()\n// 4. Use React DevTools Profiler to identify bottlenecks`\n        });\n    }\n\n    return suggestions;\n}\n\n/**\n * Analyze render event history and detect patterns\n */\nexport function analyzeRenderPatterns(history: RenderEvent[]): Suggestion[] {\n    const suggestions: Suggestion[] = [];\n\n    if (history.length < 3) return suggestions;\n\n    // Detect rapid re-renders (< 10ms apart)\n    let rapidRenderCount = 0;\n    for (let i = 1; i < history.length; i++) {\n        if (history[i].timestamp - history[i - 1].timestamp < 10) {\n            rapidRenderCount++;\n        }\n    }\n\n    if (rapidRenderCount > 3) {\n        suggestions.push({\n            type: 'general',\n            severity: 'warning',\n            title: 'Rapid Re-render Pattern Detected',\n            description: `Component is re-rendering multiple times in quick succession (${rapidRenderCount} rapid renders detected). This may indicate a state update loop.`,\n            codeExample: `// Common causes:\n// 1. useEffect updating state it depends on\nuseEffect(() => {\n  setState(value); // Don't update state that's in dependencies\n}, [value]);\n\n// 2. Parent re-rendering due to unstable props\n// Use React.memo or stabilize parent props\n\n// 3. Context value changing on every render\n// Memoize context value\nconst value = useMemo(() => ({ data }), [data]);`\n        });\n    }\n\n    // Detect same prop changing repeatedly\n    const propChangeFrequency = new Map<string, number>();\n    history.forEach(event => {\n        event.changes.forEach(change => {\n            propChangeFrequency.set(\n                change.key,\n                (propChangeFrequency.get(change.key) || 0) + 1\n            );\n        });\n    });\n\n    const frequentChanges = Array.from(propChangeFrequency.entries())\n        .filter(([_, count]) => count > history.length * 0.8)\n        .map(([key]) => key);\n\n    if (frequentChanges.length > 0) {\n        suggestions.push({\n            type: 'general',\n            severity: 'info',\n            title: 'Frequently Changing Props',\n            description: `Props ${frequentChanges.join(', ')} change in most renders. Verify if all changes are necessary.`,\n            affectedProps: frequentChanges\n        });\n    }\n\n    return suggestions;\n}\n\n/**\n * Get all suggestions for a component\n */\nexport function getComponentSuggestions(\n    componentName: string,\n    changes: Change[],\n    metrics: PerformanceMetrics,\n    history: RenderEvent[],\n    slowThreshold: number = 16\n): Suggestion[] {\n    const allSuggestions: Suggestion[] = [\n        ...analyzePropChanges(componentName, changes),\n        ...analyzePerformance(metrics, slowThreshold),\n        ...analyzeRenderPatterns(history),\n    ];\n\n    // Sort by severity\n    const severityOrder = { critical: 0, warning: 1, info: 2 };\n    return allSuggestions.sort((a, b) => severityOrder[a.severity] - severityOrder[b.severity]);\n}\n","/**\n * Diff Viewer Component\n * Shows prop/state changes side-by-side\n */\n\nimport React, { useState } from 'react';\nimport type { Change } from '../../types';\n\nexport interface DiffViewerProps {\n    changes: Change[];\n    componentName: string;\n}\n\nexport const DiffViewer: React.FC<DiffViewerProps> = ({\n    changes,\n    componentName,\n}) => {\n    const [expandedIndex, setExpandedIndex] = useState<number | null>(null);\n\n    const formatValue = (value: any): string => {\n        if (value === undefined) return 'undefined';\n        if (value === null) return 'null';\n        if (typeof value === 'function') return '[Function]';\n\n        try {\n            return JSON.stringify(value, null, 2);\n        } catch {\n            return String(value);\n        }\n    };\n\n    const getReasonIcon = (reason: Change['reason']) => {\n        switch (reason) {\n            case 'function':\n                return (\n                    <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\" />\n                    </svg>\n                );\n            case 'reference':\n                return (\n                    <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\" />\n                    </svg>\n                );\n            case 'type':\n                return (\n                    <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\" />\n                    </svg>\n                );\n            case 'length':\n                return (\n                    <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4\" />\n                    </svg>\n                );\n            case 'value':\n            default:\n                return (\n                    <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\n                    </svg>\n                );\n        }\n    };\n\n    const getReasonStyles = (reason: Change['reason']): string => {\n        switch (reason) {\n            case 'function':\n                return 'bg-purple-500/10 text-purple-400 border-purple-500/20';\n            case 'reference':\n                return 'bg-amber-500/10 text-amber-400 border-amber-500/20';\n            case 'type':\n                return 'bg-rose-500/10 text-rose-400 border-rose-500/20';\n            case 'length':\n                return 'bg-sky-500/10 text-sky-400 border-sky-500/20';\n            case 'value':\n            default:\n                return 'bg-emerald-500/10 text-emerald-400 border-emerald-500/20';\n        }\n    };\n\n    if (changes.length === 0) {\n        return (\n            <div className=\"flex flex-col items-center justify-center h-full text-slate-400 p-8\">\n                <div className=\"w-16 h-16 mb-4 rounded-full bg-slate-800/50 flex items-center justify-center border border-slate-700/50 shadow-inner\">\n                    <svg\n                        className=\"w-8 h-8 text-slate-500\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        stroke=\"currentColor\"\n                    >\n                        <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            strokeWidth={1.5}\n                            d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                        />\n                    </svg>\n                </div>\n                <h3 className=\"text-lg font-medium text-slate-300 mb-1\">No prop changes detected</h3>\n                <p className=\"text-sm text-slate-500 text-center max-w-xs\">\n                    The component re-rendered but props and state appear identical.\n                </p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"h-full flex flex-col\">\n            <div className=\"px-6 py-5 border-b border-slate-700/50 bg-slate-800/30 backdrop-blur-sm\">\n                <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 rounded-lg bg-indigo-500/10 border border-indigo-500/20\">\n                        <svg className=\"w-6 h-6 text-indigo-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\" />\n                        </svg>\n                    </div>\n                    <div>\n                        <h3 className=\"text-xl font-bold text-slate-100 tracking-tight\">\n                            Prop Changes\n                        </h3>\n                        <p className=\"text-sm text-slate-400 font-medium flex items-center gap-2\">\n                            <span className=\"w-1.5 h-1.5 rounded-full bg-indigo-500\"></span>\n                            {componentName}\n                            <span className=\"px-1.5 py-0.5 rounded-full bg-slate-700/50 text-slate-400 text-[10px] border border-slate-600/30\">\n                                {changes.length} change{changes.length !== 1 ? 's' : ''}\n                            </span>\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"flex-1 overflow-y-auto why-render-scrollbar p-6\">\n                <div className=\"space-y-4\">\n                    {changes.map((change, index) => (\n                        <div\n                            key={index}\n                            className=\"group bg-slate-800/40 border border-slate-700/50 rounded-xl overflow-hidden hover:border-slate-600/50 hover:bg-slate-800/60 transition-all duration-200 animate-slide-in-up\"\n                            style={{ animationDelay: `${index * 50}ms` }}\n                        >\n                            {/* Change Header */}\n                            <div\n                                className=\"p-4 cursor-pointer\"\n                                onClick={() =>\n                                    setExpandedIndex(expandedIndex === index ? null : index)\n                                }\n                            >\n                                <div className=\"flex items-center justify-between\">\n                                    <div className=\"flex items-center gap-3\">\n                                        <div className={`p-2 rounded-lg ${getReasonStyles(change.reason)}`}>\n                                            {getReasonIcon(change.reason)}\n                                        </div>\n                                        <div>\n                                            <div className=\"font-mono text-sm font-bold text-slate-200\">\n                                                {change.key}\n                                            </div>\n                                            <div className=\"text-xs text-slate-500 font-medium uppercase tracking-wider mt-0.5\">\n                                                {change.reason} change\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className={`\n                                        w-8 h-8 rounded-full flex items-center justify-center bg-slate-800/50 text-slate-400 \n                                        transition-all duration-200 group-hover:bg-slate-700/50 group-hover:text-slate-200\n                                        ${expandedIndex === index ? 'rotate-180 bg-slate-700/50 text-slate-200' : ''}\n                                    `}>\n                                        <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                                        </svg>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Expanded Content */}\n                            {expandedIndex === index && (\n                                <div className=\"border-t border-slate-700/50 bg-slate-900/30 animate-fade-in\">\n                                    <div className=\"grid grid-cols-2 divide-x divide-slate-700/50\">\n                                        {/* Old Value */}\n                                        <div className=\"p-4\">\n                                            <div className=\"flex items-center gap-2 mb-3\">\n                                                <span className=\"w-2 h-2 rounded-full bg-rose-500\"></span>\n                                                <span className=\"text-xs font-bold text-rose-400 uppercase tracking-wider\">Previous</span>\n                                            </div>\n                                            <pre className=\"text-xs bg-slate-950/50 p-3 rounded-lg overflow-x-auto border border-rose-500/10 shadow-inner\">\n                                                <code className=\"text-rose-200/80 font-mono leading-relaxed\">\n                                                    {formatValue(change.oldValue)}\n                                                </code>\n                                            </pre>\n                                        </div>\n\n                                        {/* New Value */}\n                                        <div className=\"p-4 bg-emerald-500/5\">\n                                            <div className=\"flex items-center gap-2 mb-3\">\n                                                <span className=\"w-2 h-2 rounded-full bg-emerald-500\"></span>\n                                                <span className=\"text-xs font-bold text-emerald-400 uppercase tracking-wider\">Current</span>\n                                            </div>\n                                            <pre className=\"text-xs bg-slate-950/50 p-3 rounded-lg overflow-x-auto border border-emerald-500/10 shadow-inner\">\n                                                <code className=\"text-emerald-200/80 font-mono leading-relaxed\">\n                                                    {formatValue(change.newValue)}\n                                                </code>\n                                            </pre>\n                                        </div>\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n","import React, { useMemo, useState } from 'react';\nimport * as d3 from 'd3-hierarchy';\nimport { useDevToolsStore } from '../../store';\nimport { performanceToColor } from '../../utils/colors';\n\ninterface FlameGraphNode {\n    name: string;\n    value: number;\n    children?: FlameGraphNode[];\n    componentId: string;\n    actualDuration: number;\n    baseDuration?: number;\n}\n\ninterface FlameGraphProps {\n    width?: number;\n    height?: number;\n}\n\nexport const FlameGraph: React.FC<FlameGraphProps> = ({\n    width = 800,\n    height = 400\n}) => {\n    const { renders, hierarchy } = useDevToolsStore();\n    const [selectedNode, setSelectedNode] = useState<d3.HierarchyRectangularNode<FlameGraphNode> | null>(null);\n\n    // Transform hierarchy data into d3 compatible format\n    const rootData = useMemo(() => {\n        // If no hierarchy, try to build from renders\n        if ((!hierarchy || hierarchy.length === 0) && renders.length === 0) return null;\n\n        // Helper to build the tree with performance data\n        const buildTree = (nodes: any[]): FlameGraphNode[] => {\n            return nodes.map(node => {\n                // Find latest render for this component\n                const componentRenders = renders.filter(r => r.componentId === node.componentId);\n                const lastRender = componentRenders[componentRenders.length - 1];\n                const duration = lastRender?.duration || 0.1; // Fallback for visibility\n\n                return {\n                    name: node.componentName,\n                    value: duration,\n                    componentId: node.componentId,\n                    actualDuration: duration,\n                    children: node.children && node.children.length > 0 ? buildTree(node.children) : undefined\n                };\n            });\n        };\n\n        // Use hierarchy if available, otherwise create flat structure from renders\n        let children: FlameGraphNode[];\n        if (hierarchy && hierarchy.length > 0) {\n            children = buildTree(hierarchy);\n        } else {\n            // Create a flat structure from unique components in renders\n            const uniqueComponents = new Map<string, { name: string; id: string; duration: number }>();\n            renders.forEach(r => {\n                const existing = uniqueComponents.get(r.componentId);\n                if (!existing || r.timestamp > existing.duration) {\n                    uniqueComponents.set(r.componentId, {\n                        name: r.componentName,\n                        id: r.componentId,\n                        duration: r.duration\n                    });\n                }\n            });\n\n            children = Array.from(uniqueComponents.values()).map(comp => ({\n                name: comp.name,\n                value: comp.duration,\n                componentId: comp.id,\n                actualDuration: comp.duration\n            }));\n        }\n\n        return {\n            name: 'Root',\n            value: 0, // Will be summed by d3\n            componentId: 'root',\n            actualDuration: 0,\n            children\n        };\n    }, [hierarchy, renders]);\n\n    const root = useMemo(() => {\n        if (!rootData) return null;\n\n        const hierarchyNode = d3.hierarchy<FlameGraphNode>(rootData)\n            .sum(d => d.value)\n            .sort((a, b) => (b.value || 0) - (a.value || 0));\n\n        const partition = d3.partition<FlameGraphNode>()\n            .size([width, height])\n            .padding(2); // Increased padding for better separation\n\n        return partition(hierarchyNode);\n    }, [rootData, width, height]);\n\n    if (!root) {\n        return (\n            <div className=\"flex flex-col items-center justify-center h-full text-slate-400 p-8\">\n                <div className=\"w-16 h-16 mb-4 rounded-full bg-slate-800/50 flex items-center justify-center border border-slate-700/50 shadow-inner\">\n                    <svg className=\"w-8 h-8 text-slate-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z\" />\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z\" />\n                    </svg>\n                </div>\n                <h3 className=\"text-lg font-medium text-slate-300 mb-1\">No render data available</h3>\n                <p className=\"text-sm text-slate-500 text-center max-w-xs\">\n                    Interact with your application to generate flame graph data.\n                </p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"flex flex-col h-full\">\n            {/* Header */}\n            <div className=\"px-6 py-4 border-b border-slate-700/50 bg-slate-800/30 backdrop-blur-sm flex justify-between items-center\">\n                <h3 className=\"text-sm font-semibold text-slate-200 flex items-center gap-2\">\n                    <span className=\"w-1.5 h-1.5 rounded-full bg-orange-500\"></span>\n                    Flame Graph\n                </h3>\n                <div className=\"flex items-center gap-2 text-xs text-slate-400\">\n                    <span className=\"flex items-center gap-1\">\n                        <span className=\"w-2 h-2 rounded-sm bg-emerald-500/50\"></span> Fast\n                    </span>\n                    <span className=\"flex items-center gap-1\">\n                        <span className=\"w-2 h-2 rounded-sm bg-amber-500/50\"></span> Warning\n                    </span>\n                    <span className=\"flex items-center gap-1\">\n                        <span className=\"w-2 h-2 rounded-sm bg-rose-500/50\"></span> Slow\n                    </span>\n                </div>\n            </div>\n\n            <div className=\"flex-1 overflow-hidden relative bg-slate-900/50 m-4 rounded-xl border border-slate-700/50 shadow-inner\">\n                <svg width=\"100%\" height=\"100%\" viewBox={`0 0 ${width} ${height}`} preserveAspectRatio=\"none\">\n                    <defs>\n                        <filter id=\"glow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\n                            <feGaussianBlur stdDeviation=\"2\" result=\"blur\" />\n                            <feComposite in=\"SourceGraphic\" in2=\"blur\" operator=\"over\" />\n                        </filter>\n                    </defs>\n                    {root.descendants().map((node, i) => {\n                        // Skip root node if it's just a container\n                        if (node.depth === 0) return null;\n\n                        const isSelected = selectedNode === node;\n                        const color = performanceToColor(node.data.actualDuration, { good: 4, warning: 16 });\n\n                        return (\n                            <g\n                                key={`${node.data.componentId}-${i}`}\n                                transform={`translate(${node.x0},${node.y0})`}\n                                onClick={() => setSelectedNode(node)}\n                                className=\"cursor-pointer transition-all duration-200\"\n                                style={{ opacity: selectedNode && !isSelected ? 0.4 : 1 }}\n                            >\n                                <rect\n                                    width={Math.max(0, node.x1 - node.x0)}\n                                    height={Math.max(0, node.y1 - node.y0)}\n                                    fill={color}\n                                    fillOpacity={isSelected ? 1 : 0.7}\n                                    stroke={isSelected ? '#fff' : 'rgba(0,0,0,0.2)'}\n                                    strokeWidth={isSelected ? 2 : 1}\n                                    rx={4}\n                                    filter={isSelected ? 'url(#glow)' : ''}\n                                    className=\"transition-all duration-300 hover:fill-opacity-90\"\n                                />\n                                {(node.x1 - node.x0) > 40 && (node.y1 - node.y0) > 16 && (\n                                    <text\n                                        x={6}\n                                        y={16}\n                                        fontSize={11}\n                                        fill=\"#fff\"\n                                        className=\"pointer-events-none font-medium select-none text-shadow\"\n                                        style={{\n                                            textShadow: '0 1px 2px rgba(0,0,0,0.8)',\n                                            fontWeight: isSelected ? 700 : 500\n                                        }}\n                                    >\n                                        {node.data.name}\n                                    </text>\n                                )}\n                            </g>\n                        );\n                    })}\n                </svg>\n            </div>\n\n            {/* Info Panel */}\n            <div className=\"h-20 border-t border-slate-700/50 px-6 py-3 bg-slate-800/50 backdrop-blur-md flex items-center justify-between\">\n                {selectedNode ? (\n                    <div className=\"animate-slide-in-up\">\n                        <div className=\"flex items-center gap-2 mb-1\">\n                            <span className=\"font-bold text-slate-100 text-lg tracking-tight\">{selectedNode.data.name}</span>\n                            <span className=\"px-1.5 py-0.5 rounded text-[10px] font-bold bg-slate-700 text-slate-300 border border-slate-600\">\n                                Depth: {selectedNode.depth}\n                            </span>\n                        </div>\n                        <div className=\"flex items-center gap-4 text-xs text-slate-400 font-mono\">\n                            <span className=\"flex items-center gap-1.5\">\n                                <span className=\"w-1.5 h-1.5 rounded-full bg-indigo-400\"></span>\n                                Duration: <span className=\"text-slate-200 font-bold\">{selectedNode.data.actualDuration.toFixed(2)}ms</span>\n                            </span>\n                            <span className=\"flex items-center gap-1.5\">\n                                <span className=\"w-1.5 h-1.5 rounded-full bg-purple-400\"></span>\n                                Base: <span className=\"text-slate-200\">{selectedNode.data.baseDuration ? selectedNode.data.baseDuration.toFixed(2) : '-'}ms</span>\n                            </span>\n                        </div>\n                    </div>\n                ) : (\n                    <div className=\"flex items-center gap-3 text-slate-500\">\n                        <div className=\"p-2 rounded-lg bg-slate-800 border border-slate-700\">\n                            <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122\" />\n                            </svg>\n                        </div>\n                        <div>\n                            <p className=\"text-sm font-medium text-slate-400\">No component selected</p>\n                            <p className=\"text-xs\">Click on any bar in the flame graph to view detailed metrics</p>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don‚Äôt include the root‚Äôs parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import React, { useState, useMemo } from 'react';\nimport { useDevToolsStore } from '../../store';\nimport { performanceToColor } from '../../utils/colors';\nimport type { PerformanceMetrics } from '../../engine/PerformanceMonitor';\n\ninterface TreeNodeProps {\n    node: any;\n    depth: number;\n    onSelect: (componentId: string) => void;\n    selectedId: string | null;\n    metricsMap: Map<string, PerformanceMetrics>;\n    slowThreshold: number;\n    isLastChild?: boolean;\n}\n\nconst TreeNode: React.FC<TreeNodeProps> = ({\n    node,\n    depth,\n    onSelect,\n    selectedId,\n    metricsMap,\n    slowThreshold,\n    isLastChild = false\n}) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n    const hasChildren = node.children && node.children.length > 0;\n    const isSelected = node.componentId === selectedId;\n\n    const metric = metricsMap.get(node.componentId);\n    const renderCount = metric?.renderCount ?? 0;\n    const lastRenderTime = metric?.lastRenderTime ?? 0;\n\n    const badgeColor = metric\n        ? performanceToColor(lastRenderTime, { good: slowThreshold / 2, warning: slowThreshold })\n        : undefined;\n\n    return (\n        <div className=\"select-none relative\">\n            {/* Tree lines */}\n            {depth > 0 && (\n                <div\n                    className={`absolute left-0 top-0 border-l border-slate-700/50 ${isLastChild ? 'h-1/2' : 'h-full'}`}\n                    style={{ left: `${(depth - 1) * 20 + 10}px` }}\n                />\n            )}\n\n            <div\n                className={`\n          flex items-center py-1.5 px-2 my-0.5 rounded-lg cursor-pointer transition-all duration-200\n          ${isSelected\n                        ? 'bg-indigo-500/20 text-indigo-300 shadow-[0_0_10px_rgba(99,102,241,0.1)]'\n                        : 'text-slate-400 hover:bg-slate-800/50 hover:text-slate-200'\n                    }\n        `}\n                style={{ paddingLeft: `${depth * 20 + 8}px` }}\n                onClick={() => onSelect(node.componentId)}\n            >\n                <button\n                    className={`\n                        w-5 h-5 mr-1 flex items-center justify-center rounded hover:bg-white/10 transition-colors\n                        ${!hasChildren ? 'invisible' : ''}\n                    `}\n                    onClick={(e) => {\n                        e.stopPropagation();\n                        setIsExpanded(!isExpanded);\n                    }}\n                >\n                    <svg\n                        className={`w-3 h-3 transition-transform duration-200 ${isExpanded ? 'rotate-90' : ''}`}\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        stroke=\"currentColor\"\n                    >\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                    </svg>\n                </button>\n\n                <span className={`text-sm font-medium truncate mr-2 ${isSelected ? 'text-indigo-300' : 'text-slate-300'}`}>\n                    {node.componentName}\n                </span>\n\n                {/* Show render count badge if available */}\n                {renderCount > 0 && (\n                    <div className=\"ml-auto flex items-center gap-2\">\n                        {lastRenderTime > slowThreshold && (\n                            <span className=\"flex h-2 w-2 relative\" title=\"Slow render detected\">\n                                <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75\"></span>\n                                <span className=\"relative inline-flex rounded-full h-2 w-2 bg-amber-500\"></span>\n                            </span>\n                        )}\n                        <span\n                            className=\"text-[10px] px-1.5 py-0.5 rounded-md font-mono font-medium min-w-[24px] text-center border shadow-sm\"\n                            style={{\n                                backgroundColor: badgeColor ? `${badgeColor}20` : '#94a3b820',\n                                color: badgeColor || '#94a3b8',\n                                borderColor: badgeColor ? `${badgeColor}40` : '#94a3b840'\n                            }}\n                            title={`Last render: ${lastRenderTime.toFixed(2)}ms | Total renders: ${renderCount}`}\n                        >\n                            {renderCount}\n                        </span>\n                    </div>\n                )}\n            </div>\n\n            {isExpanded && hasChildren && (\n                <div className=\"animate-slide-in-up\" style={{ animationDuration: '0.2s' }}>\n                    {node.children.map((child: any, index: number) => (\n                        <TreeNode\n                            key={child.componentId}\n                            node={child}\n                            depth={depth + 1}\n                            onSelect={onSelect}\n                            selectedId={selectedId}\n                            metricsMap={metricsMap}\n                            slowThreshold={slowThreshold}\n                            isLastChild={index === node.children.length - 1}\n                        />\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport const ComponentTree: React.FC = () => {\n    const { hierarchy, selectedComponentId, setSelectedComponent, metrics, slowThreshold, renders } = useDevToolsStore();\n\n    const metricsMap = useMemo(() => {\n        return new Map(metrics.map(m => [m.componentId, m]));\n    }, [metrics]);\n\n    // Build hierarchy from renders if actual hierarchy is empty\n    const displayHierarchy = useMemo(() => {\n        if (hierarchy && hierarchy.length > 0) {\n            return hierarchy;\n        }\n\n        // Create flat hierarchy from unique components in renders\n        if (renders.length === 0) return [];\n\n        const uniqueComponents = new Map<string, any>();\n        renders.forEach(r => {\n            if (!uniqueComponents.has(r.componentId)) {\n                uniqueComponents.set(r.componentId, {\n                    componentName: r.componentName,\n                    componentId: r.componentId,\n                    children: [],\n                    depth: 0\n                });\n            }\n        });\n\n        return Array.from(uniqueComponents.values());\n    }, [hierarchy, renders]);\n\n    if (displayHierarchy.length === 0) {\n        return (\n            <div className=\"flex flex-col items-center justify-center h-full text-slate-400 p-8\">\n                <div className=\"w-16 h-16 mb-4 rounded-full bg-slate-800/50 flex items-center justify-center border border-slate-700/50 shadow-inner\">\n                    <svg className=\"w-8 h-8 text-slate-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\n                    </svg>\n                </div>\n                <h3 className=\"text-lg font-medium text-slate-300 mb-1\">No component data</h3>\n                <p className=\"text-sm text-slate-500 text-center max-w-xs\">\n                    Interact with your application to populate the component tree.\n                </p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"h-full flex flex-col\">\n            <div className=\"px-6 py-4 border-b border-slate-700/50 bg-slate-800/30 backdrop-blur-sm flex justify-between items-center\">\n                <h3 className=\"text-sm font-semibold text-slate-200 flex items-center gap-2\">\n                    <span className=\"w-1.5 h-1.5 rounded-full bg-indigo-500\"></span>\n                    Component Tree\n                </h3>\n                <span className=\"text-xs font-medium px-2 py-0.5 rounded-full bg-slate-700/50 text-slate-400 border border-slate-600/30\">\n                    {displayHierarchy.length} root items\n                </span>\n            </div>\n\n            <div className=\"flex-1 overflow-y-auto why-render-scrollbar bg-slate-900/20 p-4\">\n                {displayHierarchy.map((node: any, index: number) => (\n                    <TreeNode\n                        key={node.componentId}\n                        node={node}\n                        depth={0}\n                        onSelect={setSelectedComponent}\n                        selectedId={selectedComponentId}\n                        metricsMap={metricsMap}\n                        slowThreshold={slowThreshold}\n                        isLastChild={index === displayHierarchy.length - 1}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n};\n","/**\n * Performance Badge Component\n * Shows render count and glows on render\n */\n\nimport React, { useEffect, useState } from 'react';\n\nexport interface PerformanceBadgeProps {\n    renderCount: number;\n    componentName: string;\n    lastRenderDuration?: number;\n    threshold?: number;\n    position?: 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right';\n    inline?: boolean;\n}\n\nexport const PerformanceBadge: React.FC<PerformanceBadgeProps> = ({\n    renderCount,\n    componentName,\n    lastRenderDuration,\n    threshold = 16,\n    position = 'top-right',\n    inline = false,\n}) => {\n    const [isGlowing, setIsGlowing] = useState(false);\n    const [prevCount, setPrevCount] = useState(renderCount);\n\n    useEffect(() => {\n        if (renderCount > prevCount) {\n            setIsGlowing(true);\n            const timeout = setTimeout(() => setIsGlowing(false), 500);\n            setPrevCount(renderCount);\n            return () => clearTimeout(timeout);\n        }\n    }, [renderCount, prevCount]);\n\n    const getSeverityColor = () => {\n        if (!lastRenderDuration) return 'bg-blue-500/20 text-blue-400 border-blue-500/30';\n\n        if (lastRenderDuration <= threshold) {\n            return 'bg-green-500/20 text-green-400 border-green-500/30';\n        } else if (lastRenderDuration <= threshold * 2) {\n            return 'bg-amber-500/20 text-amber-400 border-amber-500/30';\n        } else {\n            return 'bg-red-500/20 text-red-400 border-red-500/30';\n        }\n    };\n\n    const positionClasses = {\n        'top-left': 'top-2 left-2',\n        'top-right': 'top-2 right-2',\n        'bottom-left': 'bottom-2 left-2',\n        'bottom-right': 'bottom-2 right-2',\n    };\n\n    const badgeClass = `\n    inline-flex items-center gap-1.5 px-2 py-1 rounded-md text-xs font-medium border\n    ${getSeverityColor()}\n    ${isGlowing ? 'animate-pulse-glow' : ''}\n    ${!inline ? `fixed ${positionClasses[position]} z-[9999]` : ''}\n    transition-all duration-300\n  `;\n\n    return (\n        <div className={badgeClass} title={componentName}>\n            <svg\n                className=\"w-3 h-3\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n            >\n                <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M13 10V3L4 14h7v7l9-11h-7z\"\n                />\n            </svg>\n            <span className=\"font-mono\">{renderCount}</span>\n            {lastRenderDuration !== undefined && (\n                <span className=\"opacity-70 font-mono\">{lastRenderDuration.toFixed(1)}ms</span>\n            )}\n        </div>\n    );\n};\n"]}