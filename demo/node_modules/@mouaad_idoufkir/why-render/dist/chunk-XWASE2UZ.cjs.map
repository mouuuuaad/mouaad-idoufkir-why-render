{"version":3,"sources":["/home/mouaadid/Desktop/why-render/dist/chunk-XWASE2UZ.cjs","../src/engine/EventEmitter.ts"],"names":[],"mappings":"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","file":"/home/mouaadid/Desktop/why-render/dist/chunk-XWASE2UZ.cjs","sourcesContent":[null,"/**\n * Simple type-safe event emitter for render tracking events\n */\n\nimport type { RenderEvent } from '../types';\n\nexport type RenderEventType =\n    | 'render:start'\n    | 'render:end'\n    | 'change:detected'\n    | 'performance:warning'\n    | 'component:mounted'\n    | 'component:unmounted';\n\nexport interface RenderEventPayload {\n    'render:start': {\n        componentName: string;\n        componentId: string;\n        timestamp: number;\n    };\n    'render:end': {\n        componentName: string;\n        componentId: string;\n        renderEvent: RenderEvent;\n    };\n    'change:detected': {\n        componentName: string;\n        componentId: string;\n        changes: Array<{\n            key: string;\n            reason: string;\n            oldValue: any;\n            newValue: any;\n        }>;\n    };\n    'performance:warning': {\n        componentName: string;\n        componentId: string;\n        duration: number;\n        threshold: number;\n    };\n    'component:mounted': {\n        componentName: string;\n        componentId: string;\n    };\n    'component:unmounted': {\n        componentName: string;\n        componentId: string;\n    };\n}\n\ntype EventHandler<T extends RenderEventType> = (payload: RenderEventPayload[T]) => void;\n\nexport class EventEmitter {\n    private listeners: Map<RenderEventType, Set<EventHandler<any>>> = new Map();\n\n    /**\n     * Subscribe to an event\n     */\n    on<T extends RenderEventType>(event: T, handler: EventHandler<T>): () => void {\n        if (!this.listeners.has(event)) {\n            this.listeners.set(event, new Set());\n        }\n\n        this.listeners.get(event)!.add(handler);\n\n        // Return unsubscribe function\n        return () => this.off(event, handler);\n    }\n\n    /**\n     * Unsubscribe from an event\n     */\n    off<T extends RenderEventType>(event: T, handler: EventHandler<T>): void {\n        const handlers = this.listeners.get(event);\n        if (handlers) {\n            handlers.delete(handler);\n        }\n    }\n\n    /**\n     * Emit an event to all subscribers\n     */\n    emit<T extends RenderEventType>(event: T, payload: RenderEventPayload[T]): void {\n        const handlers = this.listeners.get(event);\n        if (handlers) {\n            handlers.forEach(handler => {\n                try {\n                    handler(payload);\n                } catch (error) {\n                    console.error(`[why-render] Error in event handler for ${event}:`, error);\n                }\n            });\n        }\n    }\n\n    /**\n     * Subscribe to an event once (auto-unsubscribe after first call)\n     */\n    once<T extends RenderEventType>(event: T, handler: EventHandler<T>): () => void {\n        const wrappedHandler = (payload: RenderEventPayload[T]) => {\n            handler(payload);\n            this.off(event, wrappedHandler);\n        };\n\n        return this.on(event, wrappedHandler as EventHandler<T>);\n    }\n\n    /**\n     * Remove all listeners for a specific event or all events\n     */\n    clear(event?: RenderEventType): void {\n        if (event) {\n            this.listeners.delete(event);\n        } else {\n            this.listeners.clear();\n        }\n    }\n\n    /**\n     * Get listener count for an event\n     */\n    listenerCount(event: RenderEventType): number {\n        return this.listeners.get(event)?.size ?? 0;\n    }\n}\n\n// Global singleton instance\nexport const globalEventEmitter = new EventEmitter();\n"]}