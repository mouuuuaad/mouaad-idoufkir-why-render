{"version":3,"sources":["../src/overlays/UpdateFlash.tsx"],"sourcesContent":["/**\n * Flash Update Overlay\n * Highlights components when they update (like React DevTools)\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { globalEventEmitter } from '../engine/EventEmitter';\nimport { useDevToolsStore } from '../store';\n\nexport const UpdateFlash: React.FC = () => {\n    const { showFlash } = useDevToolsStore();\n    const [flashes, setFlashes] = useState<Map<string, number>>(new Map());\n\n    useEffect(() => {\n        if (!showFlash) return;\n\n        const handleRenderEnd = (payload: { componentId: string }) => {\n            setFlashes((prev) => {\n                const next = new Map(prev);\n                next.set(payload.componentId, Date.now());\n                return next;\n            });\n\n            // Remove flash after animation\n            setTimeout(() => {\n                setFlashes((prev) => {\n                    const next = new Map(prev);\n                    next.delete(payload.componentId);\n                    return next;\n                });\n            }, 500);\n        };\n\n        const unsubscribe = globalEventEmitter.on('render:end', handleRenderEnd);\n        return () => unsubscribe();\n    }, [showFlash]);\n\n    if (!showFlash || flashes.size === 0) return null;\n\n    return (\n        <div className=\"fixed inset-0 pointer-events-none z-[9997]\">\n            {Array.from(flashes.keys()).map((componentId) => (\n                <div\n                    key={componentId}\n                    className=\"absolute inset-0 border-4 border-blue-500 animate-flash\"\n                    style={{\n                        animation: 'flash 0.5s ease-in-out',\n                    }}\n                />\n            ))}\n        </div>\n    );\n};\n"],"mappings":";;;;;;;;AAKA,SAAgB,WAAW,gBAAgB;AAqC3B;AAjCT,IAAM,cAAwB,MAAM;AACvC,QAAM,EAAE,UAAU,IAAI,iBAAiB;AACvC,QAAM,CAAC,SAAS,UAAU,IAAI,SAA8B,oBAAI,IAAI,CAAC;AAErE,YAAU,MAAM;AACZ,QAAI,CAAC,UAAW;AAEhB,UAAM,kBAAkB,CAAC,YAAqC;AAC1D,iBAAW,CAAC,SAAS;AACjB,cAAM,OAAO,IAAI,IAAI,IAAI;AACzB,aAAK,IAAI,QAAQ,aAAa,KAAK,IAAI,CAAC;AACxC,eAAO;AAAA,MACX,CAAC;AAGD,iBAAW,MAAM;AACb,mBAAW,CAAC,SAAS;AACjB,gBAAM,OAAO,IAAI,IAAI,IAAI;AACzB,eAAK,OAAO,QAAQ,WAAW;AAC/B,iBAAO;AAAA,QACX,CAAC;AAAA,MACL,GAAG,GAAG;AAAA,IACV;AAEA,UAAM,cAAc,mBAAmB,GAAG,cAAc,eAAe;AACvE,WAAO,MAAM,YAAY;AAAA,EAC7B,GAAG,CAAC,SAAS,CAAC;AAEd,MAAI,CAAC,aAAa,QAAQ,SAAS,EAAG,QAAO;AAE7C,SACI,oBAAC,SAAI,WAAU,8CACV,gBAAM,KAAK,QAAQ,KAAK,CAAC,EAAE,IAAI,CAAC,gBAC7B;AAAA,IAAC;AAAA;AAAA,MAEG,WAAU;AAAA,MACV,OAAO;AAAA,QACH,WAAW;AAAA,MACf;AAAA;AAAA,IAJK;AAAA,EAKT,CACH,GACL;AAER;","names":[]}